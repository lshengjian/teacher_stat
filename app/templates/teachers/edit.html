{% extends 'base.html' %}

{% block title %}编辑教师{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>编辑教师</h2>
    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="form-group">
            <label for="name">姓名 <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="name" name="name" value="{{ teacher.name }}" required>
        </div>
        
        <div class="form-group">
            <label for="gender">性别 <span class="text-danger">*</span></label>
            <select class="form-control" id="gender" name="gender" required>
                <option value="男" {% if teacher.gender == '男' %}selected{% endif %}>男</option>
                <option value="女" {% if teacher.gender == '女' %}selected{% endif %}>女</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="birth_date">出生日期</label>
            <input type="date" class="form-control" id="birth_date" name="birth_date" value="{{ teacher.birth_date.strftime('%Y-%m-%d') if teacher.birth_date else '' }}">
        </div>
        
        <div class="form-group">
            <label for="employee_id">工号 <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="employee_id" name="employee_id" value="{{ teacher.employee_id }}" required>
        </div>
        
        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="has_teaching_certificate" name="has_teaching_certificate" {% if teacher.has_teaching_certificate %}checked{% endif %}>
                <label class="form-check-label" for="has_teaching_certificate">是否具有教师资格证</label>
            </div>
        </div>
        
        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="has_industry_experience" name="has_industry_experience" {% if teacher.has_industry_experience %}checked{% endif %}>
                <label class="form-check-label" for="has_industry_experience">是否具有行业经验</label>
            </div>
        </div>
        
        <div class="form-group">
            <label for="phone">联系电话</label>
            <input type="text" class="form-control" id="phone" name="phone" value="{{ teacher.phone }}">
        </div>
        
        <div class="form-group">
            <label for="email">电子邮箱</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ teacher.email }}">
        </div>
        
        <div class="form-group">
            <label for="hire_date">入职日期</label>
            <input type="date" class="form-control" id="hire_date" name="hire_date" value="{{ teacher.hire_date.strftime('%Y-%m-%d') if teacher.hire_date else '' }}">
        </div>
        
        <div class="form-group">
            <label for="department">部门</label>
            <input type="text" class="form-control" id="department" name="department" value="{{ teacher.department }}">
        </div>
        
        <div class="form-group">
            <label for="major_id">专业</label>
            <select class="form-control" id="major_id" name="major_id">
                <option value="">请选择</option>
                {% for major in majors %}
                <option value="{{ major.id }}" {% if teacher.major_id == major.id %}selected{% endif %}>{{ major.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="education_id">学历</label>
            <select class="form-control" id="education_id" name="education_id">
                <option value="">请选择</option>
                {% for edu in educations %}
                <option value="{{ edu.id }}" {% if teacher.education_id == edu.id %}selected{% endif %}>{{ edu.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="degree_id">学位</label>
            <select class="form-control" id="degree_id" name="degree_id">
                <option value="">请选择</option>
                {% for degree in degrees %}
                <option value="{{ degree.id }}" {% if teacher.degree_id == degree.id %}selected{% endif %}>{{ degree.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="position_id">职务</label>
            <select class="form-control" id="position_id" name="position_id">
                <option value="">请选择</option>
                {% for pos in positions %}
                <option value="{{ pos.id }}" {% if teacher.position_id == pos.id %}selected{% endif %}>{{ pos.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="research_direction">研究方向</label>
            <input type="text" class="form-control" id="research_direction" name="research_direction" value="{{ teacher.research_direction }}">
        </div>
        
        <div class="form-group">
            <label for="introduction">个人简介</label>
            <textarea class="form-control" id="introduction" name="introduction" rows="4">{{ teacher.introduction }}</textarea>
        </div>
        
        <button type="submit" class="btn btn-primary">保存</button>
        <a href="{{ url_for('teachers.teacher_list') }}" class="btn btn-secondary">取消</a>
    </form>
</div>
{% endblock %}